# 📝 III - Comparatifs des solutions

## Autoscaling

 💡 Il existe des dizaines de fournisseur de cloud (IMB, RedHat, Microsoft Azure, etc.). On se concentrera sur deux _providers :_

**Amazon Web Services** _aka_ AWS et **Google Cloud Platform** _aka_ GCP car chez App’Ines on est déjà familiarisé avec leurs écosystèmes.



### AWS Lambda avec AWS API Gateway

 👍 **Avantages**



- Ratio Coût / ressources très intéressant
- Très grande scalabilité
- Latence la plus faible de tous les services proposés (hors _Cold Start_)

 👎 **Inconvénients**



- Incompatible avec [Socket.io](http://Socket.io) → une instance s’éteint automatiquement au bout de 15 min même si la tâche n’est pas terminée
- _Cold Start_ de 10 secondes en moyenne
- Demande une grosse refactorisation de notre back-end

### AWS Elastic Compute Cloud (EC2) avec AWS Elastic **Beanstalk**

 👍 **Avantages**



- Pas de refactorisation à prévoir
- _Application Load Balancer_ facilite l’intégration d’adaptateur comme Redis
- EC2 est notre solution actuelle

 👎 **Inconvénients**



- N’est pas serverless
- Le moins optimisé coût / ressources
- CD plus compliqué et temps d’interruption de service plus important en cas d’échec du déploiement

### AWS Elastic Kubernetes Service (EKS) avec AWS Elastic Container Registry (ECR)

 👍 **Avantages**



- Très bonne scalabilité
- Choix de notre propre architecture
- Haute disponibilité et _cold start_ très court

 👎 **Inconvénients**



- L’orchestration de conteneurs demande une gestion pointue des groupes de sécurité AWS
- Requiert l’intégration d’un nouveau repository pour la gestion des images _Docker_
- Temps de déploiement le plus long
- Solution intéressante si l’ensemble de nos solutions (Front-End) sont conteneurisées aussi

### GCP Cloud Run

 👍 **Avantages**



- Services conteneurisés sans la configuration de Kubernetes
- Autoscaling très performant

 👎 **Inconvénients**



- L’application doit être conteneurisée
- Solution plus adaptée pour une architecture micro services

### GCP App Engine

 👍 **Avantages**



- Le traffic n’est redirigé que si le build a réussi
- Solution adaptée aux API monolitiques comme notre back-end
- Temps de réponse et Cloud Start plus court que GCP Cloud Run

 👎 **Inconvénients**



- Déploiement par CLI très long (problématique en phase de configuration et de tests)
- Plus cher que GCP Cloud Run